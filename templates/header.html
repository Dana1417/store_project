{% load static %}
<header class="site-header" dir="rtl">
  <div class="container">
    <!-- âœ… Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙ‚Ø· -->
    <a class="logo" href="/">
      <img src="https://res.cloudinary.com/dlql12ycp/image/upload/v1754102032/logo_dexumq.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹">
    </a>

    <!-- âœ… Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ -->
    <button id="menu-toggle" class="menu-toggle" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">â˜°</button>

    <!-- âœ… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· -->
    <nav id="main-nav" class="nav">
      <a href="/">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="/products/">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
      <a href="/contact/">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
      <a href="/cart/" class="btn-cart">ğŸ›’ Ø§Ù„Ø³Ù„Ø©</a>

      {% if user.is_authenticated %}
        {% if user.is_student %}
          <a href="/student/dashboard/" class="role student">Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨</a>
        {% elif user.is_teacher %}
          <a href="/teacher/dashboard/" class="role teacher">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„Ù…</a>
        {% endif %}
        <span class="hello">ğŸ‘‹ {{ user.get_full_name|default:user.username }}</span>
        <a href="/logout/" class="logout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
      {% else %}
        <a href="/login/">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</a>
        <a href="/register/">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a>
      {% endif %}
    </nav>
  </div>

  <!-- âœ… CSS -->
  <style>
    :root{
      --apricot-light:#fff3e0;  /* Ù…Ø´Ù…Ø´ÙŠ ÙØ§ØªØ­ Ø¬Ø¯Ù‹Ø§ */
      --apricot:#ffe0b2;        /* Ù…Ø´Ù…Ø´ÙŠ Ù…ØªÙˆØ³Ø· */
      --ink:#1f2937;
      --muted:#6b7280;
      --ok:#16a34a;
      --teacher:#2563eb;
      --danger:#dc2626;
      --shadow:0 6px 20px rgba(0,0,0,.06);
      --radius:14px;
      --container:1180px;
    }

    .site-header{
      background: linear-gradient(90deg, var(--apricot-light), var(--apricot));
      border-bottom:1px solid #f3f4f6;
      position:sticky; top:0; z-index:100;
      box-shadow: var(--shadow);
    }

    .site-header .container{
      max-width:var(--container);
      margin:auto;
      padding:14px 18px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }

    /* Ø§Ù„Ø´Ø¹Ø§Ø± */
    .logo img{
      height:42px; width:auto; border-radius:10px; box-shadow:var(--shadow);
    }

    /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
    .nav{display:flex; align-items:center; gap:20px; flex-wrap:wrap}
    .nav a{
      text-decoration:none; color:var(--ink); font-weight:600;
      padding:8px 10px; border-radius:8px; position:relative; transition:.25s;
      font-size:16px;
    }
    .nav a:hover{color:#d35400;}

    /* Ø²Ø± Ø§Ù„Ø³Ù„Ø© */
    .btn-cart{
      background:#ef6c00;
      color:#fff !important;
      padding:8px 14px;
      border-radius:10px;
      font-weight:700;
      box-shadow:0 6px 18px rgba(239,108,0,.25);
      transition:0.3s;
    }
    .btn-cart:hover{background:#f57c00;}

    .role.student{color:var(--ok)}
    .role.teacher{color:var(--teacher)}
    .logout{color:var(--danger); font-weight:700}
    .hello{color:var(--muted); font-weight:600}

    /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ */
    .menu-toggle{
      display:none;
      border:0;
      background:#fff;
      border:1px solid #f1f5f9;
      border-radius:10px;
      padding:8px 12px;
      font-size:20px;
      cursor:pointer;
      box-shadow:var(--shadow);
    }

    /* Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
    @media (max-width: 768px){
      .menu-toggle{display:block}
      .nav{
        display:none;
        flex-direction:column;
        gap:10px;
        background:#fff;
        border:1px solid #f1f5f9;
        border-radius:var(--radius);
        padding:12px;
        margin-top:10px;
        width:100%;
        box-shadow:var(--shadow);
        text-align:right;
      }
      .nav.active{display:flex}
      .nav a, .nav span{margin:4px 0}
    }
  </style>

  <!-- âœ… JS -->
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const toggle = document.getElementById('menu-toggle');
      const nav = document.getElementById('main-nav');
      if (!toggle || !nav) return;

      toggle.addEventListener('click', function(){
        const open = nav.classList.toggle('active');
        toggle.textContent = open ? 'âœ–' : 'â˜°';
        toggle.setAttribute('aria-expanded', String(open));
      });

      // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
      nav.addEventListener('click', function(e){
        if (getComputedStyle(toggle).display === 'none') return;
        if (e.target.tagName.toLowerCase() === 'a'){
          nav.classList.remove('active');
          toggle.textContent = 'â˜°';
          toggle.setAttribute('aria-expanded', 'false');
        }
      });
    });
  </script>
</header>
